<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../pointer-element.html">
<polymer-element name="image-element2" attributes="images current offset position showControls showCover" >
	<template>
         <template if="{{images.length > index}}">
            <pointer-element2  position="{{position}}" >
                <img  src="{{images[index]}}" ></img>
            </pointer-element2>
            <button on-click="{{previous}}" hidden?="{{!showControls}}" disabled?="{{current == 0}}" >Previous</button>
            <button on-click="{{next}}" hidden?="{{!showControls}}" disabled?="{{current + offset >= large.length -1}}" >Next</button>
        </template>
		<link rel="stylesheet" href="../../css/image.css" />
	</template>
	<script>
		Polymer( {
			created: function() {
                this.images = [];
                this.current = 0;
                this.offset = 0;
                this.index = 0;
                this.showControls = true;
                this.showCover = true;
			},
                    
            next: function () {
                this.current += 1;
            },

            previous: function () {
                if (this.current > 0){
                    this.current -= 1;                
                }
            },
            
            updateIndex: function () {
                var newIdx = this.current + this.offset;
                this.index = newIdx >= this.images.length ? this.images.length -1 : newIdx;
            },
            
            
            observe: {
                'current': 'updateIndex',
                'offset' : 'updateIndex'
            }
	  
		});
	</script>
</polymer-element>